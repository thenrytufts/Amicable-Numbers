<html>
<head>
<title>Amicable Numbers</title>
	<script language="javascript">
		function isFactor(num, factor) {
			return num % factor == 0;
		}

		function showArray(elements) {
			myDiv = document.getElementById("result");
			myDiv.innerHTML += elements + "<br/>";
		}

		function addArray(elements) {
			var sum = 0;
			for (i = 0; i < elements.length; i++) {
				sum += elements[i];
			}
			return sum;
		}

		function getFactors(num) {
			var half = Math.floor(num/2), factors = [1], i, j;
			isFactor(num, 2) ?
				// our number even, look at all numbers
				(i = 2, j = 1) :
				// our number odd, look at only odd numbers
				(i = 3, j = 2);

			for (i; i <= half; i += j) {
				if (isFactor(num, i)) {
					factors.push(i);
				}
			}
			return factors; 
		}
		
		function display() {
			var num1 = document.getElementById("first").value;
			var num2 = document.getElementById("second").value;
			var sumNum1Factors = addArray(getFactors(num1));
			var sumNum2Factors = addArray(getFactors(num2));

			myDiv = document.getElementById("result");
			myDiv.innerHTML = num1 + " has factors " + getFactors(num1) + " which sum to " + sumNum1Factors + "<br/>" ;
			myDiv.innerHTML += num2 + " has factors " + getFactors(num2) + " which sum to " + sumNum2Factors + "<br/>";
			if (sumNum1Factors == num2 && sumNum2Factors == num1) {
				myDiv.innerHTML += "The numbers are amicable :)<br/>";
			}
			else {
				myDiv.innerHTML += "The numbers are not amicable :(<br/>";	
			}
		}

	</script>
</body>
</head>
<body>
	<form name="numberForm">
		Enter two numbers <br />
		<input type="number" name="num1" id="first">
		<input type="number" name="num2" id="second">
		<input type="button" value="Submit" onClick = "display()">
	</form>
	<div id="result"></div>
</html>